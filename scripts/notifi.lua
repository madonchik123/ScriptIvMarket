local a={};local b=Engine.GetCheatDirectory();local c=b.."/scripts/notifi.txt";local d={};local e=0;local f={text=nil,expire_time=0};local g=Render.LoadFont("Arial",48,Enum.FontCreate.FONTFLAG_OUTLINE,800);local function h(l)local m,n,o=string.match(l,"^(.-)%s*-%s*(%d+):(%d+)$");if m and n and o then return{text=m,time=tonumber(n)*60+tonumber(o),shown=false}end;return nil end;local function i()local j=io.open(c,"r");if not j then local k=io.open(c,"w");if k then k:write("--[[ Формат: Текст уведомления - ММ:СС ]]\n");k:write("-- Пример:\n");k:write("Забрать руну мудрости - 06:35\n");k:write("Стакнуть крипов - 2:45\n");k:write("Терзатель заспавнился - 19:55\n");k:close()end;return end;local l=GameRules.GetGameStartTime();local m=(l>0)and math.floor(GameRules.GetGameTime()-l)or -1;local n={};for o in j:lines()do local p=h(o);if p then if m>(p.time+5)then p.shown=true end;table.insert(n,p)end end;j:close();d=n end;pcall(i);a.OnUpdate=function()if not Engine.IsInGame()then return end;local j=GlobalVars.GetCurTime();if j>=e then pcall(i);e=j+5.0 end;local k=GameRules.GetGameStartTime();if k==0 then return end;local l=math.floor(GameRules.GetGameTime()-k);for _,m in ipairs(d)do local n=l-m.time;if not m.shown and n>=0 and n<5 then f.text=m.text;f.expire_time=GlobalVars.GetCurTime()+2.0;m.shown=true;break end end end;a.OnDraw=function()if f.text then if GlobalVars.GetCurTime()>f.expire_time then f.text=nil;return end;local o=Render.ScreenSize();local p=Render.TextSize(g,48,f.text);local q=(o.x/2)-(p.x/2);local r=(o.y/2)-(p.y/2);Render.Text(g,48,f.text,Vec2(q+2,r+2),Color(0,0,0,200));Render.Text(g,48,f.text,Vec2(q,r),Color(255,255,255,255))end end;a.OnGameEnd=function()d={};f.text=nil end;return a