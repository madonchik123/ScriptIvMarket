return(function()local a={active=false,last_activation=0,step=0,task=nil,order_id="nigga"};local b={};local c=Menu.Create("Heroes","Hero List","Meepo","Poofer","Poof Settings");if not c then c=Menu.Find("Heroes","Hero List","Meepo","Poofer","Poof Settings")end;if c then b.bind=c:Bind("Клавиша для двойного пуф фарма",Enum.ButtonCode.KEY_NONE);b.selection=c:Combo("Использовать Meepo",{"Все","Только клоны","Только выделенные"},1);b.target=c:Combo("Цель для Poof",{"Курсор","Основной Meepo","Под себя"},0);b.enemy_jungle=c:Switch("Фармить вражеский лес",false)end;local d={Vector(-2094,-4662,128),Vector(-1461,-3339,128),Vector(157,-5143,136),Vector(1854,-4060,256),Vector(-4968,-89,256),Vector(-3978,940,256),Vector(-6347,-308,256),Vector(-6019,-1804,256),Vector(4687,-3770,128),Vector(4027,-5145,128),Vector(4918,-6300,0),Vector(3156,-6292,8),Vector(-33,-7666,134),Vector(-2400,-6360,128)};local e={Vector(6879,-114,256),Vector(6501,1305,256),Vector(4261,83,256),Vector(3379,-1344,256),Vector(1064,2572,128),Vector(1345,4239,128),Vector(-805,4945,136),Vector(-2654,3850,256),Vector(-3206,7505,0),Vector(-4716,6273,0),Vector(-374,6403,134),Vector(2400,6207,128)};local function f()a.active=false;a.step=0;a.task=nil end;local function g(l,m)local n=b.selection:Get();local o={};if n==2 then for _,p in pairs(Player.GetSelectedUnits(m))do if NPC.GetUnitName(p)=="npc_dota_hero_meepo"then table.insert(o,p)end end;return o end;for _,q in pairs(NPCs.GetAll())do if q and Entity.IsAlive(q)and NPC.GetUnitName(q)=="npc_dota_hero_meepo"and not NPC.IsIllusion(q)and NPC.IsControllableByPlayer(q,Player.GetPlayerID(m))then if n==0 then table.insert(o,q)elseif n==1 and q~=l then table.insert(o,q)end end end;return o end;local h={};h.OnKeyEvent=function(i)if not b.bind or not Engine.IsInGame()or tostring(i.key)~=tostring(b.bind:Get())then return end;if GlobalVars.GetCurTime()<(a.last_activation+2.0)then return end;if a.active then f()end;local j=Heroes.GetLocal();if not j or not Entity.IsAlive(j)or NPC.GetUnitName(j)~="npc_dota_hero_meepo"then return end;local k=Players.GetLocal();local l=g(j,k);if #l<2 then return end;local m=Entity.GetTeamNum(j);local n={};if m==Enum.TeamNum.TEAM_RADIANT then n=d else n=e end;if b.enemy_jungle:Get()then local o=(m==Enum.TeamNum.TEAM_RADIANT)and e or d;for _,p in pairs(o)do table.insert(n,p)end end;local q=nil;local r=-1;for s=1,#n do for t=s+1,#n do local u,v=n[s],n[t];if(u-v):Length2D()<=1650 then table.sort(l,function(x,y)return(Entity.GetAbsOrigin(x)-u):Length2D()<(Entity.GetAbsOrigin(y)-u):Length2D()end);local w=l[1];local z={};for A=1,#l do if l[A]~=w then table.insert(z,l[A])end end;if #z>0 then table.sort(z,function(x,y)return(Entity.GetAbsOrigin(x)-v):Length2D()<(Entity.GetAbsOrigin(y)-v):Length2D()end);local B=z[1];local C=(Entity.GetAbsOrigin(w)-u):Length2D()+(Entity.GetAbsOrigin(B)-v):Length2D();if r==-1 or C<r then r=C;q={m1=w,m2=B,c1=u,c2=v}end end end end end;if not q then return end;a.last_activation=GlobalVars.GetCurTime();a.task={m1=q.m1,m2=q.m2,c1=q.c1,c2=q.c2,midpoint=(q.c1+q.c2)/2};NPC.MoveTo(a.task.m1,a.task.c1,false,false,false,false,a.order_id);NPC.MoveTo(a.task.m2,a.task.c2,false,false,false,false,a.order_id);a.active=true;a.step=1 end;h.OnUpdate=function()if not a.active or not Engine.IsInGame()or not a.task then return end;if not(a.task.m1 and Entity.IsAlive(a.task.m1))or not(a.task.m2 and Entity.IsAlive(a.task.m2))then f();return end;local j=Heroes.GetLocal();if not j or not Entity.IsAlive(j)then f();return end;if a.step==1 then if(Entity.GetAbsOrigin(a.task.m1)-a.task.c1):Length2D()<150 and(Entity.GetAbsOrigin(a.task.m2)-a.task.c2):Length2D()<150 then a.step=2 end elseif a.step==2 then local k=(GameRules.GetGameTime()-GameRules.GetGameStartTime())%60;if k>=48 and k<55 and(55-k)>0.1 then return end;local l=Players.GetLocal();local m=Entity.GetTeamNum(j);local n=NPCs.InRadius(a.task.c1,500,m,Enum.TeamType.TEAM_ENEMY)[1];local o=NPCs.InRadius(a.task.c2,500,m,Enum.TeamType.TEAM_ENEMY)[1];if n then Player.AttackTarget(l,a.task.m1,n,false,false,false,a.order_id)else a.task.m1_done=true end;if o then Player.AttackTarget(l,a.task.m2,o,false,false,false,a.order_id)else a.task.m2_done=true end;a.attack_time=GlobalVars.GetCurTime();a.step=3 elseif a.step==3 then local p=NPC.GetAttackAnimPoint(a.task.m1)or 0.4;if GlobalVars.GetCurTime()>a.attack_time+p+0.2 then if not a.task.m1_done then NPC.MoveTo(a.task.m1,a.task.midpoint,false,false,false,false,a.order_id)end;if not a.task.m2_done then NPC.MoveTo(a.task.m2,a.task.midpoint,false,false,false,false,a.order_id)end;a.step=4 end elseif a.step==4 then local q=true;if not a.task.m1_done and(Entity.GetAbsOrigin(a.task.m1)-a.task.midpoint):Length2D()>150 then q=false end;if not a.task.m2_done and(Entity.GetAbsOrigin(a.task.m2)-a.task.midpoint):Length2D()>150 then q=false end;if q then local r=b.target:Get();local s=Entity.GetAbsOrigin(j);local t=Input.GetWorldCursorPos();local u={{unit=a.task.m1,done=a.task.m1_done},{unit=a.task.m2,done=a.task.m2_done}};for _,v in ipairs(u)do if not v.done then local w=NPC.GetAbility(v.unit,"meepo_poof");if w and Ability.IsReady(w)then local x;if r==0 then x=t elseif r==1 then x=s else x=Entity.GetAbsOrigin(v.unit)end;Ability.CastPosition(w,x,false,false,false,a.order_id)end end end;f()end end end;h.OnGameEnd=f;return h end)();