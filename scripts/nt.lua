local v0={};local v1=Menu.Create("Scripts","Utility","assists","Settings","Main");v1:Parent():Parent():Icon("\u{f0f3}");local v2={};v2.enable=v1:Switch("Включить оповещения о помощи",true);local v3={};local v4=0;local function v5(v11) for v12=0,16 do local v13=NPC.GetItemByIndex(v11,v12);if v13 and Ability.GetName(v13)=="item_tpscroll" then return true;end;end;return false;end;local function v6(v14) return NPC.GetItem(v14,"item_travel_boots") or NPC.GetItem(v14,"item_travel_boots_2");end;local function v7(v15,v16) local v17,v18=nil,99999;for _,v19 in ipairs(Towers.GetAll()) do if Entity.IsAlive(v19) and Entity.IsSameTeam(v19,v15) then local v20=(Entity.GetAbsOrigin(v19)-v16):Length();if v20<v18 then v18=v20;v17=v19;end;end;end;return v17,v18;end;local function v8(v21,v22) local v23=Entity.GetAbsOrigin(v22);for _,v24 in ipairs(NPCs.GetAll(Enum.UnitTypeFlags.TYPE_CREEP|Enum.UnitTypeFlags.TYPE_STRUCTURE)) do if Entity.IsAlive(v24) and Entity.IsSameTeam(v24,v21) and not NPC.IsWard(v24) then if(Entity.GetAbsOrigin(v24)-v23):Length()<=1300 then return true;end;end;end;return false;end;local function v9(v25,v26) local v27=Entity.GetHealth(v25)/Entity.GetMaxHealth(v25)*100;if v27<50.0 and(Entity.GetHealth(v26)/Entity.GetMaxHealth(v26)*100)>(v27+15) and Hero.GetRecentDamage(v25)>0 then return true;end;return false;end;local function v10(v28) Chat.Print("ConsoleChat",string.format("<font color='#00aaff'>[Assist]</font> <font color='#ff4d4d'>%s</font> нужна помощь!",GameLocalizer.FindNPC(NPC.GetUnitName(v28))));v3[Entity.GetIndex(v28)]=GlobalVars.GetCurTime();end;v0.OnUpdate=function() if not v2.enable:Get() or not Engine.IsInGame() then return;end;local v29=GlobalVars.GetCurTime();if v29<v4+1.0 then return;end;v4=v29;local v30=Heroes.GetLocal();if not v30 then return;end;local v31=Entity.GetTeamNum(v30);local v32=v5(v30);local v33=v6(v30);for _,v34 in ipairs(Heroes.GetAll()) do if Entity.GetTeamNum(v34)~=v31 then goto continue;end;if v34==v30 then goto continue;end;if not Entity.IsAlive(v34) then goto continue;end;if NPC.IsIllusion(v34) then goto continue;end;if v3[Entity.GetIndex(v34)] and v29<v3[Entity.GetIndex(v34)]+15.0 then goto continue;end;if Entity.GetAbsOrigin(v30):Distance(Entity.GetAbsOrigin(v34))<=1600 then goto continue;end;local v35=Entity.GetAbsOrigin(v34);local v36=Heroes.InRadius(v35,1600,v31,Enum.TeamType.TEAM_ENEMY);local v37=#v36;if v37==0 then goto continue;end;local v38=Heroes.InRadius(v35,1600,v31,Enum.TeamType.TEAM_FRIEND);local v39=#v38;local v40,v41=v7(v30,v35);if v41<=2000 then if not v32 then goto continue;end;if v37==2 and v39==2 then local v42,v43,v44=false,false,false;for _,v45 in ipairs(v38) do if(Entity.GetHealth(v45)/Entity.GetMaxHealth(v45)*100)<55.0 then v42=true;end;if Hero.GetRecentDamage(v45)>0 then v43=true;end;end;for _,v46 in ipairs(v36) do if(Entity.GetAbsOrigin(v46)-Entity.GetAbsOrigin(v40)):Length()<900 then v44=true;break;end;end;if v42 and v43 and v44 then v10(v34);goto continue;end;end;if v37>v39 and(Entity.GetHealth(v34)/Entity.GetMaxHealth(v34)*100)<65.0 then v10(v34);goto continue;end;if v37==1 and v39==1 and v9(v34,v36[1]) then v10(v34);goto continue;end;else if not v33 then goto continue;end;if not v8(v30,v34) then goto continue;end;if v37>v39 then v10(v34);goto continue;end;if v37==1 and v39==1 and v9(v34,v36[1]) then v10(v34);goto continue;end;end;::continue::;end;end;v0.OnGameEnd=function() v3={};end;return v0;